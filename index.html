<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Home Moscow</title>
    <link href="static/css/default.css" rel="stylesheet">
    <script src="static/js/min/jquery.min.js"></script>
    <body></body>
    <header>
      <nav>
        <menu>
          <li><a href="#">О компании</a></li>
          <li><a href="#">Услуги</a></li>
          <li><a href="#">Галерея</a></li>
          <li><a href="#">Контакты</a></li>
        </menu><a href="index.html" class="logo"></a><span class="phone_number">+7 (495) 890-90-90</span><a id="consulting" href="">Консультация</a>
      </nav>
    </header>
    <main>
      <div id="slider">
        <div id="go-left"></div>
        <div id="go-right"></div>
        <div id="showcase"></div>
      </div>
      <div id="you-need" class="header-slim-big">Вам необходимо</div>
      <menu class="you-need">
        <li title="Инженерные системы"><a href="#">Инженерные системы</a></li>
      </menu>
      <div id="gallery" class="header-slim-big">Галерея</div>
      <div id="slider-bottom"></div>
    </main>
    <footer>
      <div class="float-left">Строительство элитной недвижимости с 2004 г.</div><a href="index.html" class="logo"></a><span class="phone_number">+7 (495) 890-90-90</span>
    </footer>
    <script type="text/javascript">
      $(function () {
          //console.log('location.href = '+location.href);
          // todo: remove on production
          // ----------------------------------------------------
          // Загрузить тестовый компонент
          if (( location.href.indexOf('localhost') != -1
                    || location.href.indexOf('127.0.0.1') != -1)
                    && location.href.indexOf('?') != -1) {
          document.title = window.outerWidth;
              window.onresize = function () {
                    document.title = window.outerWidth;
              };
              //
              var tail = location.href.lastIndexOf('/') + 1,
                  urlBase = location.href.substring(0, tail),
                  params = location.href.substr(tail);
              //console.log('params: ' + params);
              $.get(urlBase + '_dev/debug/dev.php' + params,
                  function (data) {
                      //console.log('data: '+data);
                      $('body').prepend(data);
                      loadTemplate();
                  });
          } else {
              console.log('No url params...');
              loadTemplate();
          }
      });
        // info: удалить (если используются серверные сценарии) или модифицировать (если используется JS-framework).
        // Разобраться с загружаемым шаблоном
        function loadTemplate() {
            var segment_pos,
                    section = 'home'; // шаблон, загружаемый по умолчанию
            if ((segment_pos = location.href.indexOf('=')) != -1) { // если найдено, возвращает позицию, с которой будем начинать извлекать section (после сдвига на 1)
                segment_pos += 1; // скорректировать позицию
                section = (location.href.indexOf('&') != -1) ?
                    location.href.substring(segment_pos, location.href.indexOf('&')) : location.href.substring(segment_pos);
            }
            //console.log('url: templates/'+section+'.html');
            // Загрузить шаблон в <main>
            $('main').load('templates/' + section + '.html');
        }
    </script>
  </head>
</html>